.bg {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  position: fixed;
  z-index: 1;
  left: 0;
  top: 0;

  &__img {
    @extend .absolute;

    z-index: 1;
    object-fit: cover;
    object-position: center;
  }

  &-grid {
    position: relative;
    z-index: 2;
    margin-left: -8.3325vh;
    height: 100%;
    display: grid;
    grid-auto-columns: 8.3325vh;
    grid-template-rows: repeat(9, 1fr);
    grid-auto-flow: column;

    &__item {
      width: 16.665vh;
      height: auto;
      background-color: rgba(195, 0, 0, 1);
      clip-path: polygon(0 100%, 50% 0, 100% 100%);
      -webkit-clip-path: polygon(0 100%, 50% 0, 100% 100%);
      transform: scale(0);
      transition-property: all;
      transition-duration: 0.4s;

      //COLOR
      &:nth-child(13n + 12) {
        opacity: 0.6;
      }

      &:nth-child(14n + 5) {
        opacity: 0.2;
      }

      &:nth-child(13n + 8) {
        opacity: 0.3;
      }

      &:nth-child(11n + 5) {
        background-color: rgba(153, 0, 0, 1);
      }

      &:nth-child(16n + 4) {
        background-color: rgba(153, 0, 0, 1);
        opacity: 0.9;
      }

      //HOVER EFFECT
      &.hovered {
        &-a {
          transition-delay: 0s !important;
          transform: scale(0.05) !important;
        }

        &-b {
          transition-delay: 0.2s !important;
          transform: scale(0.2) !important;
        }
      }

      &:nth-child(2n) {
        &.hovered {
          &-a {
            transition-delay: 0s !important;
            transform: scale(-0.05) !important;
          }

          &-b {
            transition-delay: 0.2s !important;
            transform: scale(-0.2) !important;
          }
        }
      }


      //GRADIENT
      $step: 5;
      $iteration: 1;
      $list: 1, 2, 3, 4, 5, 6, 7, 8, 9, 18, 27, 36, 45, 54, 63, 72, 81, 90, 99, 108, 117, 126, 135, 144, 153, 162, 171, 180;
      @each $i in $list {
        $secondI: $i + 9;
        $result: $step * $iteration + 130;
        $iteration: $iteration + 1;
        &:nth-child(17n + #{$i}), &:nth-child(17n + #{$secondI}) {
          background-color: rgba($result, 0, 0, 1);
        }
      }
    }


    &--appear {
      & .bg-grid__item {
        transform: scale(1);

        //ROTATE
        &:nth-child(2n) {
          transform: scale(-1);
        }

        //APPEAR DELAY
        &:nth-child(-n + 230) {
          transition-delay: 1.7s;
        }

        &:nth-child(-n + 225) {
          transition-delay: 1.7s;
        }

        &:nth-child(-n + 220) {
          transition-delay: 1.7s;
        }

        &:nth-child(-n + 215) {
          transition-delay: 1.7s;
        }

        &:nth-child(-n + 210) {
          transition-delay: 1.7s;
        }

        &:nth-child(-n + 205) {
          transition-delay: 1.675s;
        }

        &:nth-child(-n + 200) {
          transition-delay: 1.65s;
        }

        &:nth-child(-n + 195) {
          transition-delay: 1.625s;
        }

        &:nth-child(-n + 190) {
          transition-delay: 1.6s;
        }

        &:nth-child(-n + 185) {
          transition-delay: 1.575s;
        }

        &:nth-child(-n + 180) {
          transition-delay: 1.55s;
        }

        &:nth-child(-n + 175) {
          transition-delay: 1.525s;
        }

        &:nth-child(-n + 170) {
          transition-delay: 1.5s;
        }

        &:nth-child(-n + 165) {
          transition-delay: 1.475s;
        }

        &:nth-child(-n + 160) {
          transition-delay: 1.45s;
        }

        &:nth-child(-n + 155) {
          transition-delay: 1.425s;
        }

        &:nth-child(-n + 150) {
          transition-delay: 1.4s;
        }

        &:nth-child(-n + 145) {
          transition-delay: 1.375s;
        }

        &:nth-child(-n + 140) {
          transition-delay: 1.35s;
        }

        &:nth-child(-n + 135) {
          transition-delay: 1.325s;
        }

        &:nth-child(-n + 130) {
          transition-delay: 1.3s;
        }

        &:nth-child(-n + 125) {
          transition-delay: 1.275s;
        }

        &:nth-child(-n + 120) {
          transition-delay: 1.25s;
        }

        &:nth-child(-n + 115) {
          transition-delay: 1.225s;
        }

        &:nth-child(-n + 110) {
          transition-delay: 1.2s;
        }

        &:nth-child(-n + 105) {
          transition-delay: 1.175s;
        }

        &:nth-child(-n + 100) {
          transition-delay: 1.15s;
        }

        &:nth-child(-n + 95) {
          transition-delay: 1.125s;
        }

        &:nth-child(-n + 90) {
          transition-delay: 1.1s;
        }

        &:nth-child(-n + 85) {
          transition-delay: 1.075s;
        }

        &:nth-child(-n + 80) {
          transition-delay: 1.05s;
        }

        &:nth-child(-n + 75) {
          transition-delay: 1.025s;
        }

        &:nth-child(-n + 70) {
          transition-delay: 1s;
        }

        &:nth-child(-n + 65) {
          transition-delay: 0.95s;
        }

        &:nth-child(-n + 60) {
          transition-delay: 0.9s;
        }

        &:nth-child(-n + 55) {
          transition-delay: 0.85s;
        }

        &:nth-child(-n + 50) {
          transition-delay: 0.70s;
        }

        &:nth-child(-n + 45) {
          transition-delay: 0.65s;
        }

        &:nth-child(-n + 40) {
          transition-delay: 0.59s;
        }

        &:nth-child(-n + 35) {
          transition-delay: 0.52s;
        }

        &:nth-child(-n + 30) {
          transition-delay: 0.46s;
        }

        &:nth-child(-n + 25) {
          transition-delay: 0.38s;
        }

        &:nth-child(-n + 20) {
          transition-delay: 0.3s;
        }

        &:nth-child(-n + 15) {
          transition-delay: 0.2s;
        }

        &:nth-child(-n + 10) {
          transition-delay: 0.1s;
        }

        &:nth-child(-n + 5) {
          transition-delay: 0s;
        }
      }
    }

    &--appeared {
      & .bg-grid__item {
        transform: scale(1);

        //ROTATE
        &:nth-child(2n) {
          transform: scale(-1);
        }
      }
    }
  }
}
